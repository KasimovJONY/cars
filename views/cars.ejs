<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <%- include('includes/links') -%>
    <style>
        .card {
            transition: transform 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card-img-placeholder {
            height: 200px;
            background-color: #2c3034;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
        }
        .info-header {
            background-color: #212529;
            color: white;
            padding: 8px 12px;
            margin: -16px -16px 16px -16px;
            border-bottom: 1px solid #373b3e;
        }
        .info-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            text-align: center;
        }
        .info-label {
            font-weight: bold;
            color: #adb5bd;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <%- include('includes/header') -%>
    <div class="container">
        <h1 class="text-center">Cars</h1>
        <div class="row g-4 mb-5" id="cars-container">
            <!-- Cobalt Card -->
            
        </div>
    </div>
    <script>
          function getSoldCars() {
            fetch('http://localhost:5000/api/soldCars')
                .then(res => res.json())
                .then((data)=>{
                    console.log(data);
                    cardSoldCars(data)
                })
        }
        getSoldCars()

        function cardSoldCars(data){
            let container = document.querySelector('#cars-container');
            container.innerHTML = '';
            data.forEach(el => {
                let img_src = el.image_path == null ? 'https://thumb.ac-illust.com/b1/b170870007dfa419295d949814474ab2_t.jpeg' : el.image_path;
                let card = `<div class="col-12 col-md-4">
                <div class="card bg-dark text-white h-100 shadow">
                    <div class="card-img-placeholder">
                         <img style="width: 100%; height: 100%; object-fit: contain;" src="${img_src}" alt="${el.name}">
                    </div>
                    <div class="card-body">
                        <h2 class="card-title h4 mb-4">${el.name}</h2>
                        <div class="info-header">
                            <div class="info-row">
                                <div>Year</div>
                                <div>Mileage</div>
                                <div>Metan</div>
                            </div>
                        </div>
                        <div class="info-row ">
                            <div>${el.year}</div>
                            <div>${el.probeg}</div>
                            <div>${el.status}</div>
                        </div>
                    </div>
                  
                </div>
            </div>`;
            container.innerHTML += card;
            });
        }
    </script>
</body>
</html>